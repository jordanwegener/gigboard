<main role="main">
  <%= content_for?(:content) ? yield(:content) : yield %>
  <h1>Welcome to GigBoard!</h1>
  <h3>Search for Gigs</h3>
  <%= form_tag(gigs_path, method: :get) do %>
    <%= text_field_tag(:search, params[:search]) %>
    <%= submit_tag "Search" %>
  <% end %>
  <br>
  <% if @gigs.length > 0 %>
    <h2>Currently listed gigs:</h2>
    <div class="gigs-index-container">
      <% @gigs.each do |gig| %>
        <article class="card" style="width: 400px;  min-height: 150px">
          <div class="gig-title-card">
            <h5 class="card-title"><%= gig.title %></h5>
          </div>
          <div class="gig-info-card">
            <p class="card-subtitle">Location: <%= gig.location %> <br>
              Ask price: <%= number_to_currency(gig.ask_price) %></p>
          </div>
          <div class="button-bottom-right">
            <%= button_to 'More info', gig, method: :get, class: "btn btn-primary" %>
          </article>
        <% end %>
        <div class="button-bottom-right">
          <%= link_to 'Add a new gig listing', new_gig_path, class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  <% else %>
    <h2>No gigs found :(</h2>
    <p>Try searching for something else! Or...</p>
    <%= button_to 'Go back to all gigs', gigs_path, method: :get, class: "btn btn-primary" %>
  <% end%>
</main>
